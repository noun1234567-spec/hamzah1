<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‡Ù…Ø²Ø© ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø©</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary-color: #933768;
      --primary-light: #fdf2f8;
      --primary-soft: #e2d3dd;
      --secondary-accent: #f3c1da;
      --text-main: #2d3436;
      --text-muted: #636e72;
      --white: #ffffff;
      --success: #27ae60;
      --error: #c0392b;
    }

    body {
      font-family: 'Tajawal', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      padding: 10px;
      color: var(--text-main);
      font-size: 14px;
      line-height: 1.3;
    }

    .course-title {
      text-align: center;
      color: var(--primary-color);
      font-size: 1.4rem;
      font-weight: 700;
      margin: 0 0 15px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--primary-color);
      width: 100%;
    }

    .main-container {
      max-width: 900px;
      margin: 0 auto;
      background: var(--white);
      padding: 18px;
      border-radius: 18px;
      box-shadow: 0 10px 25px rgba(147, 55, 104, 0.06);
    }

    .name-box {
      background: var(--primary-light);
      border-right: 4px solid var(--primary-color);
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 0.9rem;
      color: var(--primary-color);
      margin-bottom: 18px;
      font-weight: 700;
    }

    .top-section {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    @media (max-width: 768px) {
      body {
        font-size: 13px;
        padding: 6px;
      }
      .main-container {
        padding: 12px;
        border-radius: 14px;
      }
      .top-section {
        grid-template-columns: 1fr;
        gap: 14px;
      }
    }

    .text-side {
      background: #fff;
      border: 1px solid var(--primary-soft);
      padding: 14px;
      border-radius: 14px;
      transition: transform 0.3s ease;
      font-size: 0.9rem;
      line-height: 1.25;
    }

    .text-side:hover { transform: translateY(-3px); }

    .text-side h3 {
      color: var(--primary-color);
      margin: 0 0 6px;
      font-size: 1.05rem;
      border-right: 3px solid var(--primary-color);
      padding-right: 8px;
      line-height: 1.2;
    }

    .text-side p { margin: 3px 0; }

    .text-side ul {
      padding-right: 18px;
      margin: 4px 0 0;
      color: var(--text-muted);
      line-height: 1.3;
    }

    .text-side li { margin-bottom: 2px; }

    .video-side {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .speaker-box {
      background: linear-gradient(90deg, var(--primary-light), #fff);
      border: 1px solid var(--primary-soft);
      padding: 8px 12px;
      border-radius: 40px;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .video-frame {
      width: 100%;
      height: 220px;
      border-radius: 14px;
      border: none;
      box-shadow: 0 6px 14px rgba(0,0,0,0.08);
      background: #000;
    }

    @media (max-width: 480px) {
      .video-frame { height: 190px; }
    }

    .exercise-header {
      text-align: center;
      color: var(--primary-color);
      margin: 18px 0 8px;
      font-size: 1.1rem;
      font-weight: 600;
    }

    #timer {
      font-size: 0.95rem;
      color: var(--primary-color);
      font-weight: 700;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .exercise-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 10px;
    }

    .exercise-box {
      background: #ffffff;
      border: 1px solid #eee;
      padding: 10px 10px 8px;
      border-radius: 12px;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      line-height: 1.25;
    }

    .exercise-box:hover {
      border-color: var(--primary-color);
      box-shadow: 0 4px 10px rgba(0,0,0,0.04);
    }

    .exercise-box h4 {
      margin: 0 0 6px;
      color: var(--primary-color);
      background: var(--primary-light);
      display: inline-block;
      padding: 1px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
    }

    .exercise-box p {
      margin: 0 0 4px;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .exercise-box label {
      display: flex;
      align-items: center;
      gap: 6px;
      margin: 3px 0;
      cursor: pointer;
      padding: 4px 6px;
      border-radius: 8px;
      border: 1px solid transparent;
      transition: 0.2s;
      line-height: 1.2;
    }

    .exercise-box label:hover { background: var(--primary-light); }

    input[type="radio"] {
      accent-color: var(--primary-color);
      width: 14px;
      height: 14px;
      flex-shrink: 0;
    }

    .footer-controls {
      text-align: center;
      margin-top: 18px;
      padding-top: 10px;
      border-top: 1px solid #eee;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
    }

    #checkBtn, #retryBtn {
      padding: 8px 26px;
      border: none;
      border-radius: 40px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: 0.3s;
      font-family: 'Tajawal';
    }

    .state0 { background: #dfe6e9; color: #b2bec3; cursor: not-allowed; }
    .state1 { background: var(--secondary-accent); color: var(--primary-color); cursor: pointer; }
    .state2 { background: var(--primary-color); color: white; box-shadow: 0 4px 10px rgba(147, 55, 104, 0.25); cursor: pointer; }
    .state2:hover { transform: scale(1.03); }

    #resultBox {
      margin-top: 4px;
      font-size: 1rem;
      font-weight: 800;
      color: var(--success);
    }

    .correct-answer {
      background-color: #e8f8f0 !important;
      border: 1px solid var(--success) !important;
      color: var(--success);
    }

    .wrong-answer {
      background-color: #fdf2f2 !important;
      border: 1px solid var(--error) !important;
      color: var(--error);
    }

    @media (max-width: 400px) {
      .course-title { font-size: 1.2rem; }
      .name-box {
        font-size: 0.8rem;
        padding: 8px 10px;
      }
      .exercise-box { font-size: 0.85rem; }
      #checkBtn, #retryBtn {
        width: 100%;
        max-width: 260px;
      }
    }
  </style>
</head>

<body>

<div class="course-title">Ø§Ù„ØªØ­Ø±ÙŠØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠ (103 Ø¹Ø±Ø¨) Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù‚ØµÙŠÙ… Ø·4</div>

<div class="main-container">

  <div class="name-box">
    ğŸ“– Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰.
  </div>

  <div class="top-section">
    <div class="text-side">
      <h3>Ø§Ù„Ù‡Ù…Ø²Ø© ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø©.</h3>
      <p>ØªÙ†Ù‚Ø³Ù… Ø¥Ù„Ù‰ Ù†ÙˆØ¹ÙŠÙ† Ø£Ø³Ø§Ø³ÙŠÙŠÙ†:</p>
      <p>ğŸ”¹ <strong>Ù‡Ù…Ø²Ø© Ø§Ù„ÙˆØµÙ„ (Ø§):</strong> ØªÙ†Ø·Ù‚ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙƒÙ„Ø§Ù… ÙˆØªØ³Ù‚Ø· Ø¹Ù†Ø¯ ÙˆØµÙ„Ù‡ØŒ ÙˆØªÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ø¬Ø±Ø¯Ø© Ù…Ù† Ø§Ù„Ù‡Ù…Ø²Ø©.</p>
      <p>ğŸ”¹ <strong>Ù‡Ù…Ø²Ø© Ø§Ù„Ù‚Ø·Ø¹ (Ø£ / Ø¥):</strong> ØªÙ†Ø·Ù‚ ÙˆØªÙƒØªØ¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŒ ÙˆØªØ¸Ù‡Ø± ÙÙˆÙ‚ Ø§Ù„Ø£Ù„Ù (Ø£ÙØŒ Ø£Ù) Ø£Ùˆ ØªØ­ØªÙ‡Ø§ (Ø¥Ù).</p>
      <hr style="border: 0; border-top: 1px solid var(--primary-soft); margin: 8px 0;">
      <strong>Ø£Ù‡Ù… Ù…ÙˆØ§Ø¶Ø¹ Ù‡Ù…Ø²Ø© Ø§Ù„ÙˆØµÙ„:</strong>
      <ul>
        <li>Ø§Ù„ Ø§Ù„ØªØ¹Ø±ÙŠÙ (Ø§Ù„Ù‚Ù„Ù…ØŒ Ø§Ù„ÙƒØªØ§Ø¨).</li>
        <li>Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø³Ø¨Ø¹Ø© (Ø§Ø³Ù…ØŒ Ø§Ø¨Ù†ØŒ Ø§Ù…Ø±Ø£Ø©...).</li>
        <li>Ø£Ù…Ø± Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ (Ø§Ù‚Ø±Ø£ØŒ Ø§ÙƒØªØ¨).</li>
        <li>Ù…Ø§Ø¶ÙŠ ÙˆØ£Ù…Ø± ÙˆÙ…ØµØ¯Ø± Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø®Ù…Ø§Ø³ÙŠ ÙˆØ§Ù„Ø³Ø¯Ø§Ø³ÙŠ.</li>
      </ul>
    </div>

    <div class="video-side">
      <div class="speaker-box">
        <span>ğŸ™ï¸</span>
        <span>Ø§Ù„Ù…ØªØ­Ø¯Ø«: <strong>Ø£.Ø¯. Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¨Ù† Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ù„Ø§Ø­Ù…</strong></span>
      </div>

      <!-- ÙÙŠØ¯ÙŠÙˆ ÙŠØ¹Ù…Ù„ Ù…Ø¹ GitHub Pages -->
      <video class="video-frame" controls>
        <source src="https://media.githubusercontent.com/media/hamzah1/hamzah1/main/videos/hamza.mp4" type="video/mp4">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
      </video>
    </div>
  </div>

  <div class="exercise-header">ğŸ“ ØªØ¯Ø±ÙŠØ¨ ØªØ·Ø¨ÙŠÙ‚ÙŠ Ù‚ÙŠØ§Ø³ÙŠ</div>
  
  <div id="timer">â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: 20:00</div>

  <div class="exercise-grid" id="exerciseGrid"></div>

  <div class="footer-controls">
    <button id="checkBtn" class="state0" disabled>ØªØµØ­ÙŠØ­ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</button>
    <button id="retryBtn" class="state1">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</button>
    <div id="resultBox"></div>
  </div>
</div>

<script>
  const questionBank = [
    {q:"Ø§Ø®ØªØ± Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„ÙƒÙ„Ù…Ø© (Ø§Ø³Ù…):", a:["Ø¥Ø³Ù…","Ø§Ø³Ù…","Ø£Ø³Ù…","Ø¢Ø³Ù…"], correct:"Ø§Ø³Ù…"},
    {q:"Ø£ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ØªØ¨Ø¯Ø£ Ø¨Ù‡Ù…Ø²Ø© ÙˆØµÙ„ØŸ", a:["Ø£ÙØ¹Ù„Ù…","Ø£Ø­Ù…Ø¯","Ø§Ù…Ø±Ø£Ø©","Ø£ÙƒÙ„"], correct:"Ø§Ù…Ø±Ø£Ø©"},
    {q:"Ø¶Ø¹ Ø§Ù„Ù‡Ù…Ø²Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙÙŠ ÙƒÙ„Ù…Ø© ( ___Ù„Ù‰ ):", a:["Ø¥Ù„Ù‰","Ø§Ù„Ù‰","Ø£Ù„Ù‰","Ø¢Ù„Ù‰"], correct:"Ø¥Ù„Ù‰"},
    {q:"Ø£Ù…Ø± Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ (ÙƒØªØ¨) Ù‡Ùˆ:", a:["Ø¥ÙƒØªØ¨","Ø§ÙƒØªØ¨","Ø£ÙƒØªØ¨","Ø£ÙƒÙ’ØªØ¨"], correct:"Ø§ÙƒØªØ¨"},
    {q:"ÙƒÙ„Ù…Ø© (Ø§Ø¨Ù†) Ù†ÙˆØ¹ Ø§Ù„Ù‡Ù…Ø²Ø© ÙÙŠÙ‡Ø§:", a:["Ù‡Ù…Ø²Ø© Ù‚Ø·Ø¹","Ù‡Ù…Ø²Ø© ÙˆØµÙ„","Ù‡Ù…Ø²Ø© Ù…ØªØ·Ø±ÙØ©","Ù…Ø¯"], correct:"Ù‡Ù…Ø²Ø© ÙˆØµÙ„"},
    {q:"Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¥Ù…Ù„Ø§Ø¦ÙŠØ§Ù‹:", a:["Ø¥Ù…Ø±Ø£Ø©","Ø§Ù…Ø±Ø£Ø©","Ø£Ù…Ø±Ø£Ø©","Ø¢Ù…Ø±Ø£Ø©"], correct:"Ø§Ù…Ø±Ø£Ø©"},
    {q:"Ø£Ù…Ø± Ø§Ù„ÙØ¹Ù„ (Ø¯Ø®Ù„):", a:["Ø¥Ø¯Ø®Ù„","Ø§Ø¯Ø®Ù„","Ø£Ø¯Ø®Ù„","Ø¢Ø¯Ø®Ù„"], correct:"Ø§Ø¯Ø®Ù„"},
    {q:"Ø£ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ù‡Ù…Ø²ØªÙ‡Ø§ Ù‚Ø·Ø¹ØŸ", a:["Ø§Ø³Ù…","Ø§Ø¨Ù†","Ø£Ø­Ù…Ø¯","Ø§Ù…Ø±Ø¤"], correct:"Ø£Ø­Ù…Ø¯"},
    {q:"Ø§Ù„Ù…ØµØ¯Ø± Ù…Ù† Ø§Ù„ÙØ¹Ù„ (Ø§Ù†Ø·Ù„Ù‚):", a:["Ø¥Ù†Ø·Ù„Ø§Ù‚","Ø§Ù†Ø·Ù„Ø§Ù‚","Ø£Ù†Ø·Ù„Ø§Ù‚","Ø¢Ù†Ø·Ù„Ø§Ù‚"], correct:"Ø§Ù†Ø·Ù„Ø§Ù‚"},
    {q:"Ø§Ù„Ù…Ø«Ù†Ù‰ Ù…Ù† (Ø§Ø¨Ù†) Ù‡Ùˆ:", a:["Ø¥Ø¨Ù†Ø§Ù†","Ø§Ø¨Ù†Ø§Ù†","Ø£Ø¨Ù†Ø§Ù†","Ø¢Ø¨Ù†Ø§Ù†"], correct:"Ø§Ø¨Ù†Ø§Ù†"}
  ];

  function shuffle(array) { return array.sort(() => Math.random() - 0.5); }

  const grid = document.getElementById("exerciseGrid");
  const checkBtn = document.getElementById("checkBtn");
  const retryBtn = document.getElementById("retryBtn");
  const resultBox = document.getElementById("resultBox");
  const timerDisplay = document.getElementById("timer");

  let selected = [];
  let timerStarted = false;
  let timeLeft = 20 * 60;
  let timerInterval = null;
  let allowChange = true;

  function renderQuestions() {
    grid.innerHTML = "";
    selected = shuffle(questionBank).slice(0, 6);

    selected.forEach((item, index) => {
      const box = document.createElement("div");
      box.className = "exercise-box";
      let options = item.a.map(opt => `
        <label>
          <input type="radio" name="q${index}" value="${opt}" onchange="checkProgress()"> ${opt}
        </label>
      `).join("");
      
      box.innerHTML = `<h4>Ø³Ø¤Ø§Ù„ ${index+1}</h4><p>${item.q}</p>${options}`;
      grid.appendChild(box);
    });
  }

  function startTimer() {
    if (timerInterval) clearInterval(timerInterval);
    timerInterval = setInterval(() => {
      timeLeft--;
      let m = Math.floor(timeLeft / 60);
      let s = timeLeft % 60;
      timerDisplay.innerHTML = `â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${m}:${s < 10 ? '0' + s : s}`;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        alert("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!");
        checkBtn.disabled = true;
        checkBtn.className = "state0";
      }
    }, 1000);
  }

  window.checkProgress = function() {
    if (!allowChange) return;

    if (!timerStarted) {
      timerStarted = true;
      startTimer();
    }
    const answeredCount = document.querySelectorAll('input[type="radio"]:checked').length;
    if (answeredCount > 0 && answeredCount < 6) {
      checkBtn.className = "state1";
      checkBtn.disabled = false;
    } else if (answeredCount === 6) {
      checkBtn.className = "state2";
      checkBtn.disabled = false;
    }
  };

  checkBtn.addEventListener("click", () => {
    let score = 0;
    document.querySelectorAll('.exercise-box label').forEach(lbl => {
      lbl.classList.remove('correct-answer', 'wrong-answer');
    });

    selected.forEach((item, index) => {
      const options = document.querySelectorAll(`input[name="q${index}"]`);
      options.forEach(optEl => {
        const label = optEl.parentElement;
        if (optEl.value === item.correct) {
          label.classList.add('correct-answer');
        }
        if (optEl.checked && optEl.value !== item.correct) {
          label.classList.add('wrong-answer');
        }
        if (optEl.checked && optEl.value === item.correct) {
          score += 1.5;
        }
      });
    });

    resultBox.innerHTML = `Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† 9`;
    checkBtn.disabled = true;
    checkBtn.style.opacity = "0.6";
    checkBtn.innerText = "ØªÙ… Ø§Ù„ØªØµØ­ÙŠØ­";

    allowChange = false;
  });

  retryBtn.addEventListener("click", () => {
    if (timerInterval) clearInterval(timerInterval);
    timeLeft = 20 * 60;
    timerStarted = false;
    timerDisplay.innerHTML = "â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: 20:00";

    renderQuestions();

    resultBox.innerHTML = "";
    checkBtn.disabled = true;
    checkBtn.className = "state0";
    checkBtn.style.opacity = "1";
    checkBtn.innerText = "ØªØµØ­ÙŠØ­ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª";

    allowChange = true;
  });

  renderQuestions();
</script>

</body>
</html>
